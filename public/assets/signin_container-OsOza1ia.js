import{R as e,L as m,c,h as p,j as h}from"./bundle.js";class d extends e.Component{constructor(t){super(t),this.state=this.props.user,this.handleSubmit=this.handleSubmit.bind(this),this.handleInput=this.handleInput.bind(this),this.prettyDemoUser=this.prettyDemoUser.bind(this)}handleInput(){return t=>this.setState({username:t.target.value})}componentWillUnmount(){this.props.errors.length||this.props.clearErrors()}handleSubmit(t){t.preventDefault(),this.props.signIn(this.state)}async prettyDemoUser(t){t.preventDefault();const n={username:"demoUser",password:"hunter2"},s=r=>new Promise(l=>setTimeout(l,r)),o=document.getElementById("username-input");o&&o.focus();for(let r=1;r<=n.username.length;r++)this.setState({username:n.username.substr(0,r)}),await s(200);await s(200);const i=document.getElementById("password-input");i&&i.focus();for(let r=1;r<=n.password.length;r++)this.setState({password:n.password.substr(0,r)}),await s(200);await s(500);const u=document.getElementById("session-submit-btn");u&&u.click(),i&&i.blur()}render(){const t=this.props.errors.map((s,o)=>e.createElement("li",{key:o,className:"errors"},s));let n;return this.props.errors.length?n=e.createElement("ul",{className:"heyYou"},t):n=e.createElement("ul",{className:"has-no-errors"},t),e.createElement("div",{className:"sign_up_in_div"},n,e.createElement("form",{className:"auth_form",onSubmit:this.handleSubmit},e.createElement("div",{className:"auth_form_top"},e.createElement("h2",null,"Get back to learning"),e.createElement("h3",null,"Login to your account")),e.createElement("input",{id:"username-input",className:"auth-big-input",placeholder:"Username",type:"text",value:this.state.username,onChange:this.handleInput()}),e.createElement("input",{id:"password-input",className:"auth-big-input",placeholder:"Password",type:"password",value:this.state.password,onChange:s=>this.setState({password:s.target.value})}),e.createElement("input",{id:"session-submit-btn",className:"big-buttion-auth",type:"submit",value:"Log In"}),e.createElement("div",{className:"auth_form_form"},e.createElement("button",{onClick:s=>this.prettyDemoUser(s),className:"big-buttion-auth"},"DEMO")),e.createElement("div",{className:"a1"},"dont have an account? Â ",e.createElement(m,{to:"/signUp"},"click here sign up."))))}}const g=a=>({user:{username:"",password:""},errors:a.errors.session}),b=a=>({signIn:t=>a(h(t)),clearErrors:()=>a(p())}),f=c(g,b)(d);export{f as default};
